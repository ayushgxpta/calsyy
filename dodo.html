<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0GB9T5T23Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0GB9T5T23Q');
</script>
    <style>
        /* Related Products Section */
.related-products-section {
    padding: 40px 20px;
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
}

.related-products-title {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 30px;
    color: #333;
}

.related-products-slider {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.related-products-grid {
    display: flex;
    overflow: hidden;
    scroll-behavior: smooth;
    gap: 20px;
    width: 100%;
}

.related-product-card {
    flex: 0 0 calc(25% - 15px); /* Show 4 products at a time */
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.related-product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.related-product-image {
    width: 100%;
    height: 200px;
    border-radius: 8px;
    margin-bottom: 15px;
    object-fit: contain;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.related-product-name {
    font-size: 1.1rem;
    color: #333;
    margin: 10px 0;
}

.related-product-price {
    font-size: 1.2rem;
    color: #ff6b6b;
    font-weight: 600;
    margin: 10px 0;
}

.related-product-add-to-cart {
    background-color: #ff6b6b;
    color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.related-product-add-to-cart:hover {
    background-color: #ff4c4c;
}

/* Slider Navigation Buttons */
.slider-nav-button {
    background-color: #ff6b6b;
    color: #fff;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
}

.slider-nav-button:hover {
    background-color: #ff4c4c;
}

.slider-prev {
    left: -20px;
}

.slider-next {
    right: -20px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .related-product-card {
        flex: 0 0 calc(50% - 10px); /* Show 2 products at a time on smaller screens */
    }

    .slider-nav-button {
        width: 30px;
        height: 30px;
        font-size: 1rem;
    }

    .slider-prev {
        left: -15px;
    }

    .slider-next {
        right: -15px;
    }
}
    </style>
    <style>
        /* Footer Styles */


        /* Price Container */
.price-container {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 10px 0;
}

.regular-price {
    text-decoration: line-through;
    color: #666;
    font-size: 1em;
}

.sale-price {
    color: #c00;
    font-size: 1.5em;
    font-weight: bold;
}

.sale-badge {
    background: #c00;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.9em;
    font-weight: bold;
}
        /* General Styles */
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', sans-serif;
            color: var(--text-dark);
        }

        body {
            padding-top: 70px; /* Adjust based on navbar height */
        }

        .header {
            background: #f0f0f0;
            padding: 10px;
            text-align: center;
            font-size: 0.9em;
            color: #666;
        }

        /* Navigation Styles */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: #ffffff; /* Light gray background for a modern look */
    padding: 15px 20px;
    display: flex;
    justify-content: space-evenly;
    align-items: center;
    z-index: 1000;
    border-bottom: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Logo */
.logo {
    width: 150px;
}

/* Navigation Links */
.nav-links {
    list-style: none;
    display: flex;
    gap: 20px;
    margin: 0;
    padding: 0;
}

.nav-links li {
    position: relative;
}

.nav-links a {
    text-decoration: none;
    color: #222; /* Darker text for better contrast */
    font-weight: 600; /* Bolder font for better readability */
    padding: 10px 15px;
    transition: all 0.3s ease;
    border-radius: 5px;
}

.nav-links a:hover {
    color: #d32f2f; /* Deep red for hover effect */
    background: rgba(211, 47, 47, 0.1);
}

.nav-links a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: #d32f2f;
    transition: width 0.3s ease;
}

.nav-links a:hover::after,
.nav-links a.active::after {
    width: 100%;
}

.nav-links a.active {
    color: #d32f2f;
    background: rgba(211, 47, 47, 0.1);
}


        /* Product Container Styles */
        .product-container {
            display: flex;
            gap: 30px;
             max-width: 1200px;
             margin: 20px auto;
             padding: 20px;
        }

        .image-gallery {
            flex: 1; 
            position: sticky;
            top: 20px; /* Adjust based on your navbar height */
            align-self: flex-start; /* Ensure it sticks to the top */
}

        .main-image {
            width: 100%;
            height: 600px;
            background: #ffffff;
            border-radius: 5px;
            object-fit: contain;
            margin-bottom: 10px;
}

        .thumbnails {
            display: flex;
            gap: 10px;
        }
        

        .thumbnail {
    width: 80px;
    height: 80px;
    background: #ffffff;
    border-radius: 3px;
    object-fit: contain;
    cursor: pointer;
}
.thumbnail:hover {
    transform: scale(1.1);
}
.product-info {
    flex: 1;
    padding: 20px;
}
.product-title {
    font-size: 2em;
    margin-bottom: 15px;
    color: #333;
}
.price {
    font-size: 1.5em;
    color: #c00;
    margin: 10px 0;
}

.hook {
    color: #666;
    font-size: 0.9em;
    margin-top:10px ;
    margin-bottom: 20px;
}

.order-button, .whatsapp-button {
    width: 100%;
    padding: 15px 40px;
    border: none;
    border-radius: 30px;
    font-size: 1.1em;
    margin: 15px 0;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
}

.order-button {
    background: yellow;
    color: rgb(0, 0, 0);
    box-shadow: 0 4px 15px rgba(192, 0, 0, 0.2);
    animation: pulse-or 1.5s infinite;
}

.order-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(192, 0, 0, 0.3);
}

.whatsapp-button {
    background: linear-gradient(135deg, #25D366, #128C7E);
    color: white;
    box-shadow: 0 4px 15px rgba(37, 211, 102, 0.2);
}

.whatsapp-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(37, 211, 102, 0.3);
}
/* Timer Container */
.timer {
    text-align: center;
    padding: 5px 20px; /* Reduced top and bottom padding to 50% */
    background: linear-gradient(135deg, #ff6b6b, #ff4c4c);
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
    max-width: 600px;
    margin: 0 auto;
    color: #fff;
}

/* Heading */
.timer h3 {
    font-size: 1.1rem; /* Reduced font size to 50% */
    margin-bottom: 3px; /* Reduced margin to 50% */
    font-weight: 600;
    letter-spacing: -0.5px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Subheading */
.timer .subheading {
    font-size: 0.8rem; /* Reduced font size to 50% */
    margin-bottom: 8px; /* Reduced margin to 50% */
    font-weight: 500;
    color: rgba(255, 255, 255, 0.9);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Timer Grid */
.timer-grid {
    display: flex;
    justify-content: center;
    gap: 30px; /* Kept the same for side spacing */
    padding-bottom: 10px;
}

/* Timer Block */
.timer-block {
    background: rgba(255, 255, 255, 0.1);
    padding: 8px; /* Reduced padding to 50% */
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
    text-align: center;
    min-width: 100px; /* Kept the same for side spacing */
}

/* Timer Number */
.timer-number {
    font-size: 1.8rem; /* Reduced font size to 50% */
    font-weight: 700;
    color: #fff;
    margin-bottom: 3px; /* Reduced margin to 50% */
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Timer Label */
.timer-label {
    font-size: 0.8rem; /* Reduced font size to 50% */
    font-weight: 500;
    color: rgba(255, 255, 255, 0.8);
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Responsive Design */
@media (max-width: 600px) {
    .timer-grid {
        gap: 15px;
    }

    .timer-block {
        min-width: 80px;
        padding: 6px; /* Further reduced padding */
    }

    .timer-number {
        font-size: 1.5rem; /* Further reduced font size */
    }

    .timer-label {
        font-size: 0.7rem; /* Further reduced font size */
    }
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.08);
    }
    100% {
        transform: scale(1);
    }
}
@keyframes pulse-or {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}
.timer-number {
    animation: pulse 1.5s infinite;
}

/* Description Section */
.description-container {
    margin-top: 20px;
    width: 100%; /* Adjust as needed */
}

.description-container img {
    max-width: 100%; /* Ensures responsiveness */
    height: auto; /* Prevents stretching */
    object-fit: contain; /* Maintains aspect ratio */
}


.description {
    margin: 20px 0;
    color: #666;
    line-height: 1.6;
}

.description h3 {
    font-size: 1.5em;
    margin-bottom: 15px;
    color: #333;
}

.description ul, .description ol {
    margin: 15px 0;
    padding-left: 20px;
}

.description li {
    margin-bottom: 10px;
}


        .related-products {
            margin: 50px 0;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .related-title {
            font-size: 1.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .product-card {
            background: #fff;
            padding: 15px;
            object-fit: contain;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #c00;
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: #ffffff;
            margin-bottom: 15px;
            border-radius: 5px;
            background-size: contain; /* Ensures the entire image is visible */
    background-position: center; /* Centers the image within the div */
    background-repeat: no-repeat; 
        }

        .progress {
            position: fixed;
            bottom: 20px;
            right: 20px;
            color: #666;
        }

        /* Description Section Styles */
        .description-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .description-image {
            width: 100%;
            height: 300px;
            background: #f5f5f5;
            border-radius: 5px;
            object-fit: cover;
            margin-bottom: 20px;
        }

        .description {
            margin: 20px 0;
            color: #666;
            line-height: 1.6;
        }

        .description h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #333;
        }

        .description ul, .description ol {
            margin: 15px 0;
            padding-left: 20px;
        }

        .description li {
            margin-bottom: 10px;
        }

    </style>
</head>
<body>
    <nav class="navbar">
        <img src="./images/calsyylogo.jpg" alt="Calsyy Logo" class="logo">
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="#home-decor">Home Decor</a></li>
            <li><a href="#car-accessories">Car & Bike Accessories</a></li>
            <li><a href="#electronics">Electronics</a></li>
            <li><a href="#fashion">Fashion</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        
    </nav>

    <div class="product-container">
        <!-- Left Side: Image Gallery -->
        <div class="image-gallery">
            <img src="" alt="" class="main-image">
            <div class="thumbnails">
                <img src="" alt="Thumbnail 1" class="thumbnail">
                <img src="" alt="Thumbnail 2" class="thumbnail">
                <img src="" alt="Thumbnail 3" class="thumbnail">
                <img src="" alt="Thumbnail 4" class="thumbnail">
                <img src="" alt="Thumbnail 5" class="thumbnail">
            </div>
        </div>
    
        <!-- Right Side: Product Info and Description -->
        <div class="product-info">
            <h5>Calsyy.</h5>
            <h1 class="product-title">--</h1>
            <span class="regular-price">--</span>
             <span class="sale-price">--</span>
             <span class="sale-badge">Sale</span>
             <div class="hook"><i class="fas fa-tags"></i> Exclusive Deals You Can‚Äôt Miss ‚Äì Shop Now Before They‚Äôre Gone! <i class="fas fa-shopping-cart"></i></div>
            <button class="order-button" aria-label="Order Now">Order Now - Cash on Delivery</button>
    
            <div class="timer">
                <h3>üî•Hurry Upüî•</h3>
                <p class="subheading">Sale ends in:</p>
                <div class="timer-grid">
                    <div class="timer-block">
                        <div id="minutes" class="timer-number">03</div>
                        <div class="timer-label">Minutes</div>
                    </div>
                    <div class="timer-block">
                        <div id="seconds" class="timer-number">42</div>
                        <div class="timer-label">Seconds</div>
                    </div>
                </div>
            </div>
    
            <button class="whatsapp-button" aria-label="Order on WhatsApp">Order On WhatsApp</button>
    
            <!-- Description Section -->
            <div class="description-container">
            </div>
        </div>
    </div>

    
    <div class="related-products-section">
        <h2 class="related-products-title">You May Also Like</h2>
        <div class="related-products-slider">
          <button class="slider-nav-button slider-prev" aria-label="Previous">&lt;</button>
          <div class="related-products-grid" id="related-products-grid">
            <!-- Product Cards will be dynamically added here -->
          </div>
          <button class="slider-nav-button slider-next" aria-label="Next">&gt;</button>
        </div>
      </div>
      
    <div class="review-section">
        <h2 class="review-section-title">Customer Reviews</h2>
        <button class="toggle-review-form">Write a Review</button>
            <!-- Add Review Form (Initially Hidden) -->
    <div class="add-review" style="display: none;">
        <h3>Share Your Experience</h3>
        <form id="reviewForm">
            <input type="text" id="reviewerName" placeholder="Your Name" required>
            <div class="star-rating">
                <span class="star" data-value="1">&#9733;</span>
                <span class="star" data-value="2">&#9733;</span>
                <span class="star" data-value="3">&#9733;</span>
                <span class="star" data-value="4">&#9733;</span>
                <span class="star" data-value="5">&#9733;</span>
            </div>
            <input type="hidden" id="ratingValue" value="0" required>
            <textarea id="reviewText" placeholder="Write your review here..." required></textarea>
            <button type="submit">Submit Review</button>
        </form>
    </div>

        <!-- Pre-filled Reviews -->
        <div class="reviews-list">
            <div class="review-card">
                <h4 class="reviewer-name">Priya Sharma</h4>
                <div class="star-rating">
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                </div>
                <p class="review-text">"This Hair Identifier Spray is a game-changer! It made my dermaplaning so much easier. The cooling sensation is perfect for our hot Indian weather, and my skin feels so smooth and hydrated. Highly recommend!"</p>
            </div>
            <div class="review-card">
                <h4 class="reviewer-name">Ananya Patel</h4>
                <div class="star-rating">
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star">&#9733;</span>
                </div>
                <p class="review-text">"I love how this spray highlights even the finest hairs. It‚Äôs so easy to use, and my skin feels refreshed after every use. The botanical extracts are a bonus‚Äîmy skin feels nourished and irritation-free!"</p>
            </div>
            <div class="review-card">
                <h4 class="reviewer-name">Riya Mehta</h4>
                <div class="star-rating">
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                </div>
                <p class="review-text">"I‚Äôve tried many hair removal products, but this one stands out. The spray is gentle on my sensitive skin, and it works perfectly with my dermaplaning tool. My skin feels flawless every time!"</p>
            </div>
            <div class="review-card">
                <h4 class="reviewer-name">Sneha Reddy</h4>
                <div class="star-rating">
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star">&#9733;</span>
                </div>
                <p class="review-text">"The Hair Identifier Spray is a must-have for anyone who wants precise hair removal. It‚Äôs so easy to use, and the results are amazing. My skin feels moisturized and smooth. Love it!"</p>
            </div>
            <div class="review-card">
                <h4 class="reviewer-name">Kavya Singh</h4>
                <div class="star-rating">
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                    <span class="star filled">&#9733;</span>
                </div>
                <p class="review-text">"This product is fantastic! It makes hair removal so much easier, and my skin feels refreshed and hydrated. The cooling sensation is perfect for summer. I‚Äôm definitely buying it again!"</p>
            </div>
        </div>
    </div>

    <div class="progress">
        <a href="admin.html" style="color: #666; text-decoration: none;">Navigate to admin</a>
    </div>

    <script>

       // Timer
       document.addEventListener("DOMContentLoaded", function () {
    // Set the initial time (in seconds)
    let timeInSeconds = 222; // 3 minutes and 42 seconds

    // Get the timer elements
    const minutesElement = document.getElementById("minutes");
    const secondsElement = document.getElementById("seconds");

    // Function to update the timer
    function updateTimer() {
        // Calculate minutes and seconds
        const minutes = Math.floor(timeInSeconds / 60);
        const seconds = timeInSeconds % 60;

        // Display the time
        minutesElement.textContent = String(minutes).padStart(2, "0");
        secondsElement.textContent = String(seconds).padStart(2, "0");

        // Check if the timer has reached zero
        if (timeInSeconds <= 0) {
            // Reset the timer
            timeInSeconds = 222; // Reset to 3 minutes and 42 seconds
        } else {
            // Decrease the time by 1 second
            timeInSeconds--;
        }
    }

    // Update the timer every second
    setInterval(updateTimer, 1000);

    // Initialize the timer immediately
    updateTimer();
});


        // Hover effects for product cards
        document.querySelectorAll('.product-card').forEach(card => {
            card.addEventListener('mouseover', () => {
                card.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseout', () => {
                card.style.transform = 'translateY(0)';
            });
        });
        
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const mainImage = document.querySelector('.main-image');
    
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', () => {
                    mainImage.src = thumbnail.src;
                });
            });
        });
    </script>
    <footer class="Section1">
        <div class="second">
            <img src="./images/calsyylogo.jpg" alt="Calsyy Logo" class="footerlogo">
        </div>
        
            <div class="col">
            <h4>Contact</h4>
            <p><b>üìç Address:</b> Floating somewhere in your hearts üíÖ (<strong>Rent-free, of course!</strong>)</p>  
            <p><b>‚è∞ Hours:</b> 9:00 AM - 9:00 PM, Mon - Sat üòç (<strong>Even superheroes take Sundays off!</strong>)</p>  
            <p><b>üìû Phone:</b> IFKYK ‚Äì Just Kidding! (Drop us a DM on the Contact page, and we‚Äôll <strong>swoop in like Superman! ü¶∏‚Äç‚ôÇÔ∏è‚ö°</strong>)</p>  
             

            </div>
            <div class="col">
                <h4>Follow Us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-youtube"></i>
                </div>
            </div>
        </footer>

    <div class="copyright">
        <p>&copy; 2025 Calsyy. All rights reserved.</p>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    const productsGrid = document.querySelector(".related-products-grid");
    const prevButton = document.querySelector(".slider-prev");
    const nextButton = document.querySelector(".slider-next");

    if (productsGrid && prevButton && nextButton) {
        const scrollAmount = productsGrid.clientWidth; // Scroll by the width of the container

        prevButton.addEventListener("click", () => {
            productsGrid.scrollBy({
                left: -scrollAmount,
                behavior: "smooth"
            });
        });

        nextButton.addEventListener("click", () => {
            productsGrid.scrollBy({
                left: scrollAmount,
                behavior: "smooth"
            });
        });
    }
});
    </script>
    <script>

        // Get the modal and elements
const modal = document.getElementById("order-modal");
const orderButton = document.querySelector(".order-button");
const closeButton = document.querySelector(".close");
const orderForm = document.getElementById("order-form");
let currentProductId = "";

// Function to get product ID from URL
function getProductIdFromURL() {
  const url = new URL(window.location.href);
  const pathname = url.pathname;
  const segments = pathname.split('/');
  // Find the product ID (assuming it's the last segment)
  for (let i = segments.length - 1; i >= 0; i--) {
    if (segments[i] && segments[i] !== '') {
      return segments[i];
    }
  }
  return null;
}

// Function to extract product ID from URL
function extractProductId() {
  const urlParams = new URLSearchParams(window.location.search);
  let productId = urlParams.get('productId') || urlParams.get('id');
  
  if (!productId) {
    productId = getProductIdFromURL();
  }
  
  return productId;
}

// Function to load product details
async function loadProductDetails() {
  try {
    const productId = extractProductId();
    if (!productId) {
      console.error("Product ID not found in URL");
      return;
    }
    
    currentProductId = productId;
    document.getElementById("form-product-id").value = productId;
    
    const response = await fetch(`https://calsyy-backend.onrender.com/api/products/${productId}`);
    if (!response.ok) {
      throw new Error("Failed to fetch product");
    }
    
    const product = await response.json();
    
    // Update modal with product details
    document.getElementById("modal-product-name").textContent = product.name;
    
    const displayPrice = product.correctedPrice || product.price;
    document.getElementById("modal-product-price").textContent = `‚Çπ${displayPrice.toFixed(2)}`;
    document.getElementById("button-price").textContent = displayPrice.toFixed(2);
    
    // Also update the page content if needed
    const productTitle = document.querySelector(".product-title");
    if (productTitle) productTitle.textContent = product.name;
    
    const regularPrice = document.querySelector(".regular-price");
    const salePrice = document.querySelector(".sale-price");
    
    if (product.correctedPrice && product.correctedPrice < product.price) {
      if (regularPrice) regularPrice.textContent = `‚Çπ${product.price.toFixed(2)}`;
      if (salePrice) salePrice.textContent = `‚Çπ${product.correctedPrice.toFixed(2)}`;
    } else {
      if (regularPrice) regularPrice.textContent = `‚Çπ${product.price.toFixed(2)}`;
      if (salePrice) salePrice.textContent = "";
    }
    
  } catch (error) {
    console.error("Error loading product details:", error);
  }
}

// Show the modal when order button is clicked
orderButton.addEventListener("click", function() {
  loadProductDetails();
  modal.style.display = "block";
});

// Close the modal when close button is clicked
closeButton.addEventListener("click", function() {
  modal.style.display = "none";
});

// Close the modal when clicking outside the modal content
window.addEventListener("click", function(event) {
  if (event.target === modal) {
    modal.style.display = "none";
  }
});

// Handle form submission
orderForm.addEventListener("submit", async function(event) {
  event.preventDefault();
  
  const formData = {
    productId: currentProductId,
    firstName: document.getElementById("firstName").value,
    lastName: document.getElementById("lastName").value,
    phone: document.getElementById("phone").value,
    address: document.getElementById("address").value,
    city: document.getElementById("city").value,
    pincode: document.getElementById("pincode").value,
    landmark: document.getElementById("landmark").value,
    state: document.getElementById("state").value,
    orderType: "COD"
  };
  
  try {
    const submitButton = document.querySelector(".buy-button");
    const originalButtonText = submitButton.innerHTML;
    submitButton.innerHTML = "Processing...";
    submitButton.disabled = true;
    
    // Replace with your actual order API endpoint
    const response = await fetch("https://calsyy-backend.onrender.com/api/orders", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(formData)
    });
    
    if (!response.ok) {
      throw new Error("Failed to place order");
    }
    
    const result = await response.json();
    
    // Show success message
    alert("Your order has been placed successfully! Order ID: " + result.orderId);
    modal.style.display = "none";
    orderForm.reset();
    
  } catch (error) {
    console.error("Error placing order:", error);
    alert("There was an error placing your order. Please try again.");
  } finally {
    const submitButton = document.querySelector(".buy-button");
    submitButton.innerHTML = originalButtonText;
    submitButton.disabled = false;
  }
});

// Load product details when page loads
document.addEventListener("DOMContentLoaded", function() {
  loadProductDetails();
});

    </script>
    
    <script src="script.js"></script>
    <script src="dodo.js"></script>
</body>     
</html>
