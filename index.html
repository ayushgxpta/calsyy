<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calsyy | Online Shopping</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0GB9T5T23Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0GB9T5T23Q');
</script>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NC8TFL7G');</script>
<!-- End Google Tag Manager -->
  
  <style>
    /* Hero Section */
    #hero {
      height: 40vh;
      overflow: hidden;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .hero-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
                  url('https://img.freepik.com/premium-photo/fashion-elegant-pretty-woman-model-stylish-trendy-black-clothes-with-top-blazer-wears-cool-modern-sunglasses-walks-city-urban-female-business-style-look-outfit_338491-17955.jpg');
      background-size: cover;
      background-position: center;
      background-position-y: 1050px;
      z-index: 1;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      color: white;
      max-width: 800px;
      padding: 20px;
    }

    /* Product Card Styles */
    .product-card {
      position: relative;
      overflow: visible;
      transition: all 0.3s ease;
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .product-card img {
      height: 200px;
      object-fit: contain;
      width: 100%;
      transition: all 0.3s ease;
    }

    .product-card:hover img {
      transform: translateY(-5px) scale(1.05);
      z-index: 2;
    }

    /* Cart Notification */
    .cart-notification {
      position: fixed;
      bottom: 20px;
      right: -400px;
      width: 350px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      transition: right 0.3s ease;
      z-index: 1000;
    }

    .cart-notification.active {
      right: 20px;
    }

    .cart-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1001;
    }

    .cart-container {
      background: white;
      padding: 20px;
      border-radius: 8px;
      max-width: 500px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .cart-item img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      margin-right: 10px;
    }

    .cart-item h4 {
      margin: 0;
      font-size: 16px;
    }

    .cart-item p {
      margin: 0;
      font-size: 14px;
      color: #555;
    }

    .buy-now-btn {
      margin-top: 10px;
      padding: 5px 10px;
      background-color: #ff5733;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .buy-now-btn:hover {
      background-color: #e04e2a;
    }
  </style>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NC8TFL7G"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <header>
    <nav class="navbar">
      <a href="index.html">
        <img src="https://calsyy.page/image/calsyylogo.jpg" alt="Calsyy Logo" class="logo">
      </a>
      <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="#home-decor">Home Decor</a></li>
          <li><a href="#car-accessories">Car & Bike Accessories</a></li>
          <li><a href="#electronics">Electronics</a></li>
          <li><a href="#fashion">Fashion</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart</a></li>
      </ul>
  </nav>
  </header>

  <section id="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
      <h1>Winter Sale Up to 50% Off</h1>
      <p>Exclusive discounts on top products - limited time offer!</p>
      <a href="#products" class="cta-btn">Shop Now</a>
    </div>
  </section>

  <section id="Best-Sellers" class="product-grid">
    <h2>Best Sellers</h2>
    <div class="products-container">
      <!-- Static Product Cards -->
      <div class="product-card">
        <a href="hairidentifierspray.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/51wpIBfrIEL._AC_SL1500_.jpg" alt="Hair Identifier Mask">
        <h3>Hair Identifier Mask</h3>
        <p>‚Çπ589</p></a>
        <button class="cta-btn">Add to Cart</button>
      </div>
      
      <div class="product-card">
        <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/Screenshot 2025-02-24 124739.png" alt="Kitchen Stickers Organizer">
        <h3>Kitchen Stickers Organizer</h3>
        <p>‚Çπ899</p></a>
        <button class="cta-btn">Add to Cart</button>
      </div>
      
      <div class="product-card">
        <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/61BwDH-VLrL._AC_SL1500_.jpg" alt="Dodo Duck Night Lamp">
        <h3>Dodo Duck Night Lamp</h3>
        <p>‚Çπ999</p></a>
        <button class="cta-btn">Add to Cart</button>
      </div>
      
      <div class="product-card">
        <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/7155ZK23qzL._SL1500_.jpg" alt="Mini Juice Blender">
        <h3>Mini Juice Blender</h3>
        <p>‚Çπ699</p></a>
        <button class="cta-btn">Add to Cart</button>
      </div>
      
      <div class="product-card">
        <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/Screenshot 2025-02-24 124758.png" alt="Fingerprint Smart Padlock">
        <h3>Fingerprint Smart Padlock</h3>
        <p>‚Çπ699</p></a>
        <button class="cta-btn">Add to Cart</button>
      </div>
    </div>
  </section>

<section id="Trending-Products" class="product-grid">
  <h2>Trending Products</h2>
  <div class="products-container">
    <!-- Static Product Cards -->
    <div class="product-card">
      <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/product1.jpeg" alt="Hair Identifier Mask"data-tooltip="High-quality hair mask for dry hair">
      <h3>Cleaning Mob</h3>
      <p>‚Çπ589</p></a>
      <button class="cta-btn">Add to Cart</button>
    </div>
    
    <div class="product-card">
      <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/7355726388.jpeg" alt="Kitchen Stickers Organizer">
      <h3>RoseMary Hair Growth | Buy 1 Get 2 Free </h3>
      <p>‚Çπ899</p></a>
      <button class="cta-btn">Add to Cart</button>
    </div>
    
    <div class="product-card">
      <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/61ZWwzrfjJL._AC_SL1500_.jpg" alt="Dodo Duck Night Lamp"></a>
      <h3>Car Restore Cream</h3>
      <p>‚Çπ999</p></a>
      <button class="cta-btn">Add to Cart</button>
    </div>
    
    <div class="product-card">
      <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/51e-WL39b2L.jpg" alt="Mini Juice Blender">
      <h3>Cornor Sleeves</h3>
      <p>‚Çπ699</p></a>
      <button class="cta-btn">Add to Cart</button>
    </div>
    
    <div class="product-card">
      <a href="dodo.html"><img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/Solar Wall light.jpg" alt="Fingerprint Smart Padlock">
      <h3>Solar Wall light</h3>
      <p>‚Çπ699</p></a>
      <button class="cta-btn">Add to Cart</button>
    </div>
  </div>
</section>

  <section id="features">
    <div class="feature-card">
      <img src="https://img.icons8.com/ios-filled/50/FF5733/truck.png" alt="Free Shipping">
      <h3>Free Shipping</h3>
      <p>On all items with no minimums</p>
    </div>
    <div class="feature-card">
      <img src="https://img.icons8.com/ios-filled/50/FF5733/money.png" alt="Cash on Delivery">
      <h3>Cash on Delivery</h3>
      <p>Pay online or COD - your choice</p>
    </div>
    <div class="feature-card">
      <img src="https://img.icons8.com/ios-filled/50/FF5733/whatsapp.png" alt="WhatsApp Support">
      <h3>WhatsApp Support</h3>
      <p>24/7 customer support</p>
    </div>
  </section>

  <section id="newsletter">
    <h2>Subscribe to Our Newsletter</h2>
    <p>Get exclusive offers and updates delivered to your inbox</p>
    <form>
      <input type="email" placeholder="Enter your email" required>
      <button type="submit">Subscribe</button>
    </form>
  </section>

  <footer class="Section1">
    <div class="second">
        <img src="https://raw.githubusercontent.com/ayushgxpta/calsyy/refs/heads/main/image/calsyylogo.jpg" alt="Calsyy Logo" class="footerlogo">
    </div>
    
        <div class="col">
        <h4>Contact</h4>
        <p><b>üìç Address:</b> Floating somewhere in your hearts üíÖ (<strong>Rent-free, of course!</strong>)</p>  
        <p><b>‚è∞ Hours:</b> 9:00 AM - 9:00 PM, Mon - Sat üòç (<strong>Even superheroes take Sundays off!</strong>)</p>  
        <p><b>üìû Phone:</b> IFKYK ‚Äì Just Kidding! (Drop us a DM on the Contact page, and we‚Äôll <strong>swoop in like Superman! ü¶∏‚Äç‚ôÇÔ∏è‚ö°</strong>)</p>  
         

        </div>
        <div class="col">
            <h4>Follow Us</h4>
            <div class="icon">
                <i class="fab fa-facebook-f"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-youtube"></i>
            </div>
        </div>
    </footer>
    <div class="copyright">
      <p>&copy; 2025 Calsyy. All rights reserved.</p>
  </div>
  
  <script src="script.js"></script>
<!-- Add this notification container before </body> -->
<div class="cart-notification">
  <div class="notification-content">
    <span class="close-notification">&times;</span>
    <img class="notification-product-image" src="" alt="Product">
    <div class="notification-details">
      <p>‚úì Added to Cart</p>
      <div class="notification-subtext">
        <span class="notification-product-name"></span>
        <span class="notification-product-price"></span>
      </div>
      <a href="#cart" class="view-cart-link">View Cart (<span class="cart-count">0</span>)</a>
    </div>
  </div>
</div>


<script>
  // Cart Logic
  let cartItems = 0;
  const cart = JSON.parse(localStorage.getItem('cartData')) || [];

  function showCartNotification(productName, price, imageUrl) {
    const notification = document.querySelector('.cart-notification');
    const productImage = notification.querySelector('.notification-product-image');
    const productNameElement = notification.querySelector('.notification-product-name');
    const productPriceElement = notification.querySelector('.notification-product-price');
    const cartCountElement = notification.querySelector('.cart-count');

    productImage.src = imageUrl;
    productNameElement.textContent = productName;
    productPriceElement.textContent = price;
    cartItems++;
    cartCountElement.textContent = cartItems;

    // Add product to cart array
    cart.push({ name: productName, price: parseFloat(price.replace('‚Çπ', '')), imageUrl, quantity: 1 });
    localStorage.setItem('cartData', JSON.stringify(cart)); // Save cart data to localStorage

    notification.classList.add('active');

    setTimeout(() => {
      notification.classList.remove('active');
    }, 3000);
  }

  document.querySelectorAll('.cta-btn').forEach(button => {
    button.addEventListener('click', (e) => {
      const productCard = e.target.closest('.product-card');
      const productName = productCard.querySelector('h3').textContent;
      const productPrice = productCard.querySelector('p').textContent;
      const productImage = productCard.querySelector('img').src;

      showCartNotification(productName, productPrice, productImage);
    });
  });

  document.querySelector('.view-cart-link').addEventListener('click', (e) => {
    e.preventDefault(); // Prevent default anchor behavior
    window.location.href = 'cart.html'; // Redirect to cart.html
  });

  document.getElementById('hero').addEventListener('mousemove', (e) => {
    const hero = e.currentTarget;
    const bg = hero.querySelector('.hero-bg');
    const rect = hero.getBoundingClientRect();
    
    const x = (e.clientX - rect.left) / rect.width;
    const y = (e.clientY - rect.top) / rect.height;
    
    const moveX = (x - 0.5) * 50; // Adjust 50 for movement intensity
    const moveY = (y - 0.5) * 50;
    
    bg.style.transform = `translate(${moveX}px, ${moveY}px)`;
  });

  // Function to load products from the backend
  async function loadProducts() {
    try {
      const response = await fetch('https://calsyy-backend.onrender.com/api/products');
      const products = await response.json();

      // Log the response to verify the data
      console.log('Fetched products:', products);

      // Only remove dynamically added products
      document.querySelectorAll('.products-container').forEach(container => {
        container.querySelectorAll('.dynamic-product').forEach(el => el.remove());
      });

      // Add products to appropriate sections
      products.forEach(product => {
        const sectionId = product.category.replace(/ /g, '-');
        const container = document.querySelector(`#${sectionId} .products-container`);
        
        if (container) {
          const productCard = document.createElement('div');
          productCard.className = 'product-card dynamic-product'; // Add dynamic-product class

          // Ensure there's at least one image, otherwise use a placeholder
          const imageUrl = product.images && product.images.length > 0 ? product.images[0] : 'placeholder.jpg';

          productCard.innerHTML = `
            <a href="dodo.html?id=${product._id}">
              <img src="${imageUrl}" alt="${product.name}">
              <h3>${product.name}</h3>
              <p>‚Çπ${product.price}</p>
            </a>
            <button class="cta-btn">Add to Cart</button>
          `;

          container.appendChild(productCard);
        } else {
          console.warn(`No container found for category: ${product.category}`);
        }
      });

      // Reattach click handlers to new buttons
      document.querySelectorAll('.cta-btn').forEach(button => {
        button.addEventListener('click', handleAddToCart);
      });

    } catch (error) {
      console.error('Error loading products:', error);
    }
  }

  // Load products when page loads
  window.addEventListener('load', loadProducts);

  // Handle "Add to Cart" button clicks
  function handleAddToCart(e) {
    const productCard = e.target.closest('.product-card');
    const productName = productCard.querySelector('h3').textContent;
    const productPrice = productCard.querySelector('p').textContent;
    const productImage = productCard.querySelector('img').src;

    showCartNotification(productName, productPrice, productImage);
  }
</script>
</body>
</html>
